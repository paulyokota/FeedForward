# DUAL-FORMAT STORY OUTPUT - The user wants their pins to appear in Tailwind Communities as intended.

> Generated by FeedForward Pipeline v2.0 | Format Version: v2
> Generated at: 2026-01-15T19:08:07.643349
> Target Repository: aero
> Codebase Exploration: Success (20 files found)

---

## SECTION 1: Human-Facing Story


# Story: The User Wants Their Pins To Appear In Tailwind Communities As Intended.


## User Story

As a **Tailwind user**
I want **The user wants their pins to appear in Tailwind Communities as intended.**
So that **achieve my goals without friction**

## Context

- **Product Area**: communities
- **Component**: tailwind_communities
- **User Journey Step**: Unknown
- **Dependencies**: To be determined
- **Related Conversations**: 3 customer reports (2025-12-15 - 2026-01-10)

## Acceptance Criteria

- [ ] Given the reported conditions when the user performs the action then the expected behavior occurs
- [ ] Given test data when the fix is applied then all existing tests pass
- [ ] [Observability] Logging captures key state transitions

## Symptoms (Customer Reported)

- Pins are published on Pinterest but not visible in communities
- Issue has persisted for two months
- All English pins assigned to communities
- Pins are published
- Posts not appearing in the 'yours' tab
- Pins not showing up in Communities after being published on Pinterest
- User has checked the 'Yours' tab with no results
- Issue has persisted for around two weeks
- User has to manually add each pin after posting

## Root Cause Hypothesis

Possible synchronization issue between published pins and community visibility settings.

## Technical Notes

- **Target Components**: `tailwind_communities` module
- **Testing Expectations**: Integration test covering the full flow
- **Vertical Slice**: Backend â†’ Frontend

## INVEST Check

- [x] **Independent**: Can be fixed without other stories
- [x] **Negotiable**: Implementation approach flexible
- [x] **Valuable**: Affects customers, improves product
- [ ] **Estimable**: Scoped appropriately
- [ ] **Small**: Completable in one iteration
- [x] **Testable**: Clear symptom/fix criteria

## Sample Customer Messages

> "Pins are published on Pinterest but not visible in communities"
> "Issue has persisted for two months"
> "Pins are published"

## Suggested Investigation

1. Review `tailwind_communities` code for issues matching symptoms
2. Check logs for errors in communities flow
3. Verify API responses and error handling
4. Check for timing or synchronization issues

---

## SECTION 2: AI Agent Task Specification


# Agent Task: The User Wants Their Pins To Appear In Tailwind Communities As Intended.


## Role & Context

This card is for a **senior backend engineer** working in the target codebase.
Follow project conventions in `CLAUDE.md` and established patterns.

**Repository**: aero
**Task Type**: bug-fix
**Related Story**: See Human-Facing Section above
**Priority**: Low-Medium (2-4 customer reports)

## Goal (Single Responsibility)

The user wants their pins to appear in Tailwind Communities as intended.

## Context & Architecture
### Relevant Files:

- `packages/tailwindapp/client/domains/home/hooks/use-onboarding-progress-status.ts` (line 14) - 117 matches: user, tailwind
- `packages/tailwindapp/client/store/user/slice.ts` (line 3) - 43 matches: user, tailwind
- `packages/bachv2/service/account/handlers/api/account-disconnect-post/account-disconnect-post.handler.ts` (line 2) - 36 matches: user, tailwind
- `packages/tailwindapp-legacy/app/react/app/core/render/render.js` (line 54) - 33 matches: user, tailwind
- `packages/tailwindapp-legacy/app/react/app/ui-components/content-generation/image-selection/selected-designs/selected-designs-utils/selected-designs-history-events-utils.tsx` (line 1) - 18 matches: user
- `packages/tailwindapp-legacy/app/public/www/app/js/jquery-ui-1.10.2.js` (line 247) - 18 matches: user, wants, appear
- `packages/e2e/home/collaboratorUploads.playwright.ts` (line 67) - 17 matches: pins, user, tailwind
- `packages/bachv2/service/auth/api/helpers/record-communities-signup-referrals.ts` (line 2) - 12 matches: user, communities, tailwind
- `infra/tailwindapp/bach/environment.ts` (line 4) - 10 matches: user, tailwind
- `packages/tailwindapp/client/domains/draft-gallery/components/made-for-you/made-for-you-section.tsx` (line 36) - 9 matches: user, tailwind

### Code Snippets:

**1. packages/tailwindapp/client/domains/home/hooks/use-onboarding-progress-status.ts** (lines 4-24)
Context: 117 matches: user, tailwind

```typescript
import type {
	FacebookPage,
	InstagramAccount,
	PinterestAccount,
	PublisherDestination,
} from "@/client/domains/publisher-destinations/types";
import { type BrowserName, useBrowserInfo } from "@/client/hooks/use-browser-info";
import { useExtensionInstalled } from "@/client/hooks/use-extension-installed";
import { useOrgFeatureFlag } from "@/client/hooks/use-feature-flag";
import { useOnMountEffect } from "@/client/hooks/use-on-mount-effect";
import { type UserProperty, useUserProperty_legacy } from "@/client/hooks/use-user-property";
import {
	browserExtensionLinks,
	isBrowserCompatibleWithExtension,
} from "@/client/utils/browser-extension";
import { LocalStorage } from "@/client/utils/storage";

enum OnboardingCompletedStatus {
	UnKnown = "unknown",
	InProgress = "inprogress",
	Completed = "completed",

```

**2. packages/tailwindapp/client/store/user/slice.ts** (lines 1-13)
Context: 43 matches: user, tailwind

```typescript
import { createAsyncThunk, createEntityAdapter, createSlice } from "@reduxjs/toolkit";
import type { PartialPick } from "@tailwind-aero/core/utils";
import type { User } from "@tailwind-aero/tailwind-api-sdk";
import UAParser from "ua-parser-js";
import { gandalfUserTokenProvider } from "@/client/clients/gandalf";
import { tailwindappApiClient } from "@/client/clients/tailwindapp-api-client";
import type { NewUser } from "@/client/domains/signup/generic-sign-up";
import type { AppState } from "@/client/store";
import { getCookie } from "@/client/utils/get-cookie";

export const userAdapter = createEntityAdapter<User>({});

export const {

```

**3. packages/bachv2/service/account/handlers/api/account-disconnect-post/account-disconnect-post.handler.ts** (lines 1-12)
Context: 36 matches: user, tailwind

```typescript
import { ApiHandler } from "@tailwind/faceteer-cdk/handlers";
import { userEventEmitter } from "@tailwind-aero/core/user-events/server";
import { z } from "zod";
import { Log } from "../../../../common/utils/log";
import { RequestUtils } from "../../../../common/utils/request";
import { Failed, HttpFailureStatus, Success } from "../../../../common/utils/response";
import { handlerUserScope } from "../../../../common/utils/scopes";
import {
	type AccountDisconnectData,
	getAccountDisconnectData,
} from "./get-account-disconnect-data";
import { orphanInstagramAccount } from "./orphan-instagram-account";

```

### Suggested Investigation:

```
SELECT * FROM tailwind_communities WHERE updated_at > NOW() - INTERVAL '7 days' LIMIT 10;
```
```
-- Search logs for communities errors in last 24h
```
```
grep -r pins packages/
```

## Instructions (Step-by-Step)

1. **Analyze** the tailwind_communities code
2. **Reproduce** using test data
3. **Identify** the root cause
4. **Implement** the fix with minimal changes
5. **Add/Update Tests** covering the fix
6. **Verify** by running the full test suite

## Success Criteria (Explicit & Observable)

- [ ] All existing tests pass (no regressions)
- [ ] New test covers the reported issue
- [ ] Fix addresses root cause, not just symptoms
- [ ] Code follows project conventions
- [ ] Changes are minimal and focused

## Guardrails & Constraints

### DO NOT:

- Make changes without tests
- Modify database schema without migration
- Deploy without testing in staging
- Make changes affecting unrelated tailwind_communities

### ALWAYS:

- Write tests before/with the fix
- Preserve existing functionality
- Log key state transitions
- Consider edge cases and error handling

## Extended Thinking Guidance

- Take time to understand the full data flow before implementing a fix.

---

## Metadata

| Field               | Value                       |
| ------------------- | --------------------------- |
| **Issue Signature** | `community_content_not_appearing`         |
| **Occurrences**     | 3               |
| **First Seen**      | 2025-12-15                |
| **Last Seen**       | 2026-01-10                 |
| **Generated By**    | FeedForward Pipeline v2.0   |

---

_Generated by FeedForward Dual-Format Story Generator_
# DUAL-FORMAT STORY OUTPUT - The user wants their pins to appear in Tailwind Communities as intended.

> Generated by FeedForward Pipeline v2.0 | Format Version: v2
> Generated at: 2026-01-15T19:07:06.496329
> Target Repository: aero
> Codebase Exploration: Success (20 files found)

---

## SECTION 1: Human-Facing Story


# Story: The User Wants Their Pins To Appear In Tailwind Communities As Intended.


## User Story

As a **Tailwind user**
I want **The user wants their pins to appear in Tailwind Communities as intended.**
So that **achieve my goals without friction**

## Context

- **Product Area**: communities
- **Component**: tailwind_communities
- **User Journey Step**: Unknown
- **Dependencies**: To be determined
- **Related Conversations**: 3 customer reports (2025-12-15 - 2026-01-10)

## Acceptance Criteria

- [ ] Given the reported conditions when the user performs the action then the expected behavior occurs
- [ ] Given test data when the fix is applied then all existing tests pass
- [ ] [Observability] Logging captures key state transitions

## Symptoms (Customer Reported)

- Pins are published on Pinterest but not visible in communities
- Issue has persisted for two months
- All English pins assigned to communities
- Pins are published
- Posts not appearing in the 'yours' tab
- Pins not showing up in Communities after being published on Pinterest
- User has checked the 'Yours' tab with no results
- Issue has persisted for around two weeks
- User has to manually add each pin after posting

## Root Cause Hypothesis

Possible synchronization issue between published pins and community visibility settings.

## Technical Notes

- **Target Components**: `tailwind_communities` module
- **Testing Expectations**: Integration test covering the full flow
- **Vertical Slice**: Backend â†’ Frontend

## INVEST Check

- [x] **Independent**: Can be fixed without other stories
- [x] **Negotiable**: Implementation approach flexible
- [x] **Valuable**: Affects customers, improves product
- [ ] **Estimable**: Scoped appropriately
- [ ] **Small**: Completable in one iteration
- [x] **Testable**: Clear symptom/fix criteria

## Sample Customer Messages

> "Pins are published on Pinterest but not visible in communities"
> "Issue has persisted for two months"
> "Pins are published"

## Suggested Investigation

1. Review `tailwind_communities` code for issues matching symptoms
2. Check logs for errors in communities flow
3. Verify API responses and error handling
4. Check for timing or synchronization issues

---

## SECTION 2: AI Agent Task Specification


# Agent Task: The User Wants Their Pins To Appear In Tailwind Communities As Intended.


## Role & Context

This card is for a **senior backend engineer** working in the target codebase.
Follow project conventions in `CLAUDE.md` and established patterns.

**Repository**: aero
**Task Type**: bug-fix
**Related Story**: See Human-Facing Section above
**Priority**: Low-Medium (2-4 customer reports)

## Goal (Single Responsibility)

The user wants their pins to appear in Tailwind Communities as intended.

## Context & Architecture
### Relevant Files:

- `packages/tailwindapp-legacy/app/public/www/app/js/instagram.min.js` (line 1) - 74 matches: user, pins, tailwind
- `packages/tailwindapp-legacy/app/react/app/ui-components/settings/engine-status-content-portal.tsx` (line 44) - 34 matches: appear, user, tailwind
- `packages/tailwindapp/client/domains/instagramo-auth/select-instagram-account-page.tsx` (line 11) - 22 matches: user, tailwind
- `packages/duck/app/dashboard/interests/search/types.ts` (line 96) - 21 matches: user, pins, tailwind
- `packages/tailwindapp-legacy/app/react/app/ui-components/tribes/activation-tasks/show-activation-task-container-button-view.js` (line 6) - 16 matches: user, tailwind, their
- `packages/tailwindapp-legacy/app/react/app/state-changers/instagram/user-tagging/load-recently-tagged-instagram-users-reducer.js` (line 1) - 13 matches: user
- `packages/tailwindapp/client/domains/advanced-scheduler/components/failed-pins-view.tsx` (line 28) - 13 matches: pins, tailwind
- `packages/tailwindapp/client/domains/insights/pinterest/hooks/use-pinterest-user-metrics.ts` (line 17) - 13 matches: user
- `packages/core/src/auth/laravel/get-session.ts` (line 53) - 12 matches: user, tailwind
- `packages/bachv2/service/publisher/handlers/queue/pinterest-empty-queue-email/pinterest-empty-queue-email.handler.ts` (line 3) - 11 matches: user, tailwind

### Code Snippets:

**1. packages/tailwindapp-legacy/app/public/www/app/js/instagram.min.js** (lines 1-1)
Context: 74 matches: user, pins, tailwind

```javascript
var InstagramConfig={urls:{publisher_post_draft_new:"",publisher_posts_drafts:"",publisher_posts_pending:"",publisher_posts_scheduled:"",profile_refresh_endpoint:"",media_comments_endpoint:"",external:{post_like_endpoint:"",remove_like_endpoint:"",post_comment_endpoint:"",remove_comment_endpoint:"",follow_endpoint:"",unfollow_endpoint:""},monitoring:{add_topic:"",remove_topic:"",load_topic_lists:"",load_topic_bar:""}},query_data:"",query_topics_max:"",accountKeywordCount:"",accountHashtagCount:"",accountKeywordLimit:"",accountHashtagLimit:"",accountLists:"",appView:""},InstagramHashtagInsights={init:function(){$("#site-pins-toggle-dash").on("click",function(){$("#pins-toggle2").trigger("click"),$("#pins-toggle2").trigger("click"),$("#pins-toggle").trigger("click"),$("#pins-toggle").trigger("click"),$("#site-pins-toggle-dash").addClass("active"),$("#pinners-toggle-dash").removeClass("active"),$("#engagement-toggle-dash").removeClass("active"),$("#reach-toggle-dash").removeClass("active")}),$("#pinners-toggle-dash").on("click",function(){$("#pinners-toggle2").trigger("click"),$("#pinners-toggle2").trigger("click"),$("#pinners-toggle").trigger("click"),$("#pinners-toggle").trigger("click"),$("#pinners-toggle-dash").addClass("active"),$("#site-pins-toggle-dash").removeClass("active"),$("#engagement-toggle-dash").removeClass("active"),$("#reach-toggle-dash").removeClass("active")}),$("#engagement-toggle-dash").on("click",function(){$("#engagement-toggle2").trigger("click"),$("#engagement-toggle2").trigger("click"),$("#engagement-toggle").trigger("click"),$("#engagement-toggle").trigger("click"),$("#site-pins-toggle-dash").removeClass("active"),$("#pinners-toggle-dash").removeClass("active"),$("#engagement-toggle-dash").addClass("active"),$("#reach-toggle-dash").removeClass("active")}),$("#reach-toggle-dash").on("click",function(){$("#reach-toggle2").trigger("click"),$("#reach-toggle2").trigger("click"),$("#reach-toggle").trigger("click"),$("#reach-toggle").trigger("click"),$("#site-pins-toggle-dash").removeClass("active"),$("#pinners-toggle-dash").removeClass("active"),$("#engagement-toggle-dash").removeClass("active"),$("#reach-toggle-dash").addClass("active")}),$(".value-metric").fitText(.5,{minFontSize:"25px",maxFontSize:"70px"});var trendingImagesWidth=$(".module-trending-images").width(),influencersWidth=$(".module-influencers").width(),hashtagsWidth=$(".module-hashtags").width(),peakDaysWidth=$(".module-peak-days").width(),regionsWidth=$(".module-regions").width();$(".module-trending-images .sticky-module-title").css("width",trendingImagesWidth-2),$(".module-influencers .sticky-module-title").css("width",influencersWidth-2),$(".module-hashtags .sticky-module-title").css("width",hashtagsWidth-2),$(".module-peak-days .sticky-module-title").css("width",peakDaysWidth-2),$(".module-regions .sticky-module-title").css("width",regionsWidth-2),$("#influencers-row-toggle").on("click",function(){$(".module-influencers .row-togglable").show(),$(this).parents("tr").hide()})}},InstagramCloseUp={media_data:[],init:function(){$("#ig-closeup-backdrop, #ig-modal-close").on("click",function(){InstagramCloseUp.hideCloseUp()}),$(".instagram-media-wrapper .medium-image, .instagram-media-wrapper .large-image, .instagram-media-wrapper .media-comments").on("click",function(){var $media_data=$(this).parents(".instagram-media-wrapper").data("closeup-data");InstagramCloseUp.media_data=$media_data,InstagramCloseUp.showCloseUp($media_data)}).css({cursor:"pointer"})},showCloseUp:function($media_data){InstagramCloseUp.loadMediaData($media_data),$("#ig-closeup-backdrop").show(),$("#ig-media-closeup-wrapper").removeClass("off-screen"),$("#ig-media-closeup-modal").css({left:0,right:0}),InstagramCloseUp.loadComments($media_data)},hideCloseUp:function(){$("#ig-media-closeup-wrapper").addClass("off-screen"),$("#ig-media-closeup-modal").css({left:"auto",right:"auto"}),$("#ig-closeup-backdrop").hide()},loadMediaData:function($media_data){1==$media_data.type_id?($("#ig-media-closeup-photo .image.static").show(),$("#ig-media-closeup-photo .image.ig-video-embed").hide(),$("#ig-media-closeup-photo .image").attr("src",$media_data.image),$("#ig-media-closeup-photo .image").attr("href",$media_data.link)):2==$media_data.type_id&&($("#ig-media-closeup-photo .image.static").hide(),$("#ig-media-closeup-photo .image.ig-video-embed").show(),$("#ig-media-closeup-photo .image.ig-video-embed").attr("src",$media_data.video),$("#ig-media-closeup-photo .image.ig-video-embed").attr("href",$media_data.link)),$("#ig-closeup-post-info .created-time").text($media_data.created_time),$("#ig-media-closeup-link a").attr("href",$media_data.link),""!=$media_data.profile.full_name?$("#ig-media-closeup-header .account-name").text($media_data.profile.full_name):$("#ig-media-closeup-header .account-name").text($media_data.profile.username),$("#ig-closeup-profile-photo").attr("src",$media_data.profile.profile_picture);var $followBtn=$("#ig-media-closeup-header .ig-follow-btn");$media_data.profile.is_self?InstagramUpdater.setFollowButtonState("self",$followBtn):($followBtn.attr("data-user-id",$media_data.profile.user_id),-1==$media_data.profile.updated_at?InstagramUpdater.setFollowButtonState("private",$followBtn):$media_data.profile.followed_by_user?InstagramUpdater.setFollowButtonState("following",$followBtn):InstagramUpdater.setFollowButtonState("default",$followBtn)),$media_data.comment_count>0?$("#ig-closeup-comments").addClass("has-comments"):$("#ig-closeup-comments").removeClass("has-comments"),$("#ig-closeup-comments .comment.caption").empty(),$("#ig-closeup-comments .comment.caption .commenter").text($media_data.profile.username+" ").attr("href","http://www.instagram.com/"+$media_data.profile.username),$("#ig-closeup-comments .comment.caption").append($media_data.caption),$("#ig-closeup-actions .insert-comment input").attr("placeholder","Add a comment..."),$("#ig-closeup-actions .ig-comment-submit-btn").attr("data-media-id",$media_data.media_id),$("#ig-closeup-post-info .ig-like-count").text($media_data.like_count.toLocaleString()),$("#ig-closeup-post-info .ig-like-btn").attr("data-media-id",$media_data.media_id),$media_data.is_liked?$("#ig-closeup-post-info .ig-like-btn").addClass("is-liked"):$("#ig-closeup-post-info .ig-like-btn").removeClass("is-liked")},loadComments:function($media_data){var autoCompleteUsers=[];autoCompleteUsers.push({username:$media_data.profile.username,name:$media_data.profile.full_name,image:$media_data.profile.profile_picture}),autoCompleteUsers.push({username:"tailwindapp",name:"Tailwind",image:"https://igcdn-photos-c-a.akamaihd.net/hphotos-ak-xaf1/t51.2885-19/11311174_809522442493730_1839401204_a.jpg"});$("#ig-closeup-comments .comment.user-comment, #ig-closeup-comments .comment.view-more").remove(),$("#ig-closeup-comments .comment.loading").show(),$.ajax({type:"GET",data:{media_id:""+$media_data.media_id},url:InstagramConfig.urls.media_comments_endpoint,cache:!1,success:function(response){var $media_comments=response.comments;response.comments_count>0&&$.each($media_comments,function(index,comment){$("#ig-closeup-comments").append('<div class="comment user-comment" id="ig-closeup-comment-'+comment.comment_id+'"><a class="commenter">'+comment.commenter.username+"</a> "+comment.text+'<span class="ig-comment-reply-btn btn btn-mini btn-success" data-username="'+comment.commenter.username+'" data-comment-id="'+comment.comment_id+'">Reply</span></div>'),autoCompleteUsers.push({username:comment.commenter.username,name:comment.commenter.full_name,image:comment.commenter.profile_picture})}),response.comments_count!=$media_data.comment_count&&$("#ig-closeup-comments").append('<div class="comment view-more"><a target="_blank" href="'+$media_data.link+'">See more comments... <i class="icon-new-tab"></i></a></div>'),$("#ig-closeup-comments .comment.loading").hide()}}),$("#ig-closeup-actions .insert-comment input").mention({emptyQuery:!0,queryBy:["name","username"],typeaheadOpts:{items:10},users:autoCompleteUsers}),$("#ig-closeup-comments").unbind("click"),$("#ig-closeup-comments").on("click",".ig-comment-reply-btn",function(event){var element=$(event.target);$("#ig-closeup-actions .insert-comment input").val("@"+$(element).data("username")+" "+$("#ig-closeup-actions .insert-comment input").val()).focus()})}},Instagram={username:null,queryOptions:[],sortBy:"recency",page:1,paginationURL:null,canPaginate:!0,init:function(data){data=data||{},this.username=data.username||this.username,this.setPaginationURL(data.username),this.initEventListeners()},initEventListeners:function(){$("body").on("click",".js-schedule-it",function(){"yes"==$(this).data("schedule-quickly")?Instagram.scheduleEntryQuickly($(this).data("entry-id"),$(this).data("entry-data")):Instagram.scheduleEntry($(this).data("entry-id"),$(this).data("entry-data"))}),this.renderEntrySocialScores()},isSortByRecency:function(){return"recency"==this.sortBy},isSortByLikes:function(){return"likes"==this.sortBy},setSortBy:function(sortBy,sortResults){this.sortBy=sortBy,sortResults=sortResults||!1;var $labelResultsType=$("#js-content-results-type"),$btnSortRecent=$("#btn-sort-recent"),$btnSortlikes=$("#btn-sort-likes"),$btnSortComments=$("#btn-sort-comments");this.isSortByRecency()?($labelResultsType.text("Recent"),$btnSortRecent.addClass("active"),$btnSortlikes.removeClass("active"),$btnSortComments.removeClass("active")):this.isSortByLikes()?($labelResultsType.text("Most Liked"),$btnSortlikes.addClass("active"),$btnSortRecent.removeClass("active"),$btnSortComments.removeClass("active")):($labelResultsType.text("Most Commented"),$btnSortComments.addClass("active"),$btnSortRecent.removeClass("active"),$btnSortlikes.removeClass("active")),sortResults&&$isoContainer.isotope({sortBy:sortBy})},getPaginationURL:function(page){return page=page||this.page,this.paginationURL+"/"+page},setPaginationURL:function(username){this.username=username,this.paginationURL="/dashboard/instagram/media"+(void 0!==typeof this.username?"/"+escape(this.username):"")},nextPage:function(){return++this.page},paginateAsNewSearch:function(){$(".navbar-footer").slideUp(),this.paginate(1)},paginate:function(page){if(this.page=page||this.nextPage(),page=this.page,this.canPaginate=!1,1==page)($loadingIndicator=$(".loading-middle")).find("p").html("Loading Instagram Content"),this.setSortBy("recency");else{var $loadingIndicator=$(".loading-footer");$loadingIndicator.find("p").html("Loading more Instagram Content")}$loadingIndicator.fadeIn(),$.ajax({type:"GET",url:this.getPaginationURL(page),cache:!1,success:function(response){var $newEntries=$(response.html),chunkStart=0,chunkEnd=10;for(i=1;i<=10;i++){if(chunkEntries=$newEntries.slice(chunkStart,chunkEnd),0==chunkEntries.length){$loadingIndicator.fadeOut();break}Instagram.renderEntries(chunkEntries),1==i&&$loadingIndicator.fadeOut(),chunkEnd=(chunkStart=chunkEnd)+10}$loadingIndicator.fadeOut(),response.count>0&&(Instagram.canPaginate=!0)}})},renderEntries:function($entries){$entries.imagesLoaded().always(function(instance){$isoContainer.append($entries).isotope("appended",$entries).isotope("layout"),Instagram.processEntries()}).progress(function(instance,image){image.isLoaded||$(image.img).parents(".item").remove()})},renderEntrySocialScores:function(){$(".popularity").popover({trigger:"hover",title:"<strong>Popularity</strong>",content:function(){return $("#entry-score-popover-"+$(this).data("entry-id")).html()},html:!0})},processEntries:function(){$('[data-toggle="tooltip"]').tooltip()},scheduleEntry:function(entryId,entryData){$.ajax({type:"POST",entry_id:entryId,data:entryData,url:InstagramConfig.urls.publisher_post_draft_new,cache:!1,success:function(html){$("body").append(html),editPostModal.init(),editPostModal.submitCallback=function(response){editPostModal.close(),Instagram.scheduleEntryHandler(this.entry_id,response.post_type)}.bind(this),editPostModal.show(),$("#edit-post-modal").on("hidden",function(){editPostModal.remove()})}})},scheduleEntryQuickly:function(entryId,entryData){$.ajax({type:"POST",entry_id:entryId,data:entryData,url:InstagramConfig.urls.publisher_post_create,cache:!1,success:function(response){Instagram.scheduleEntryHandler(this.entry_id,response.post_type)}})},scheduleEntryHandler:function(entryId,postStatus){var $entryContainer=$("#entry-"+entryId);$entryContainer.find(".btn-schedule").remove();var ribbon_text,ribbon_url;switch(postStatus){case"draft":ribbon_text="Saved Draft",ribbon_url=InstagramConfig.urls.publisher_posts_drafts;break;case"pending":ribbon_text="Submitted",ribbon_url=InstagramConfig.urls.publisher_posts_pending;break;default:ribbon_text="Scheduled",ribbon_url=InstagramConfig.urls.publisher_posts_scheduled}$entryContainer.prepend('<div class="ribbon-wrapper"><div class="ribbon ribbon-blue"><a class="link-content-publisher" href="'+ribbon_url+'">'+ribbon_text+"</a></div></div>")}},InstagramProfilePictures={init:function(){this.checkForBrokenImages()},checkForBrokenImages:function(){$(".instagram-profile-photo.updated").css({opacity:1});var imgLoad=imagesLoaded(".instagram-profile-photo:not(.updated)");imgLoad.on("always",function(){for(var userIdsToRefresh=[],i=0,len=imgLoad.images.length;i<len;i++){var image=imgLoad.images[i];image.isLoaded?image.img.src=$(image.img).data("avatar"):(image.img.src="https://instagramimages-a.akamaihd.net/profiles/anonymousUser.jpg","ig-closeup-profile-photo"!==image.img.id&&userIdsToRefresh.push(image.img.id.substr(image.img.id.indexOf("-")+1))),$(image.img).css({opacity:1})}userIdsToRefresh.length&&InstagramProfilePictures.refreshProfiles(userIdsToRefresh)})},refreshProfiles:function(userIdsToRefresh){$.ajax({type:"GET",data:{user_ids:userIdsToRefresh},url:InstagramConfig.urls.profile_refresh_endpoint,cache:!1,success:function(response){}})}},InstagramTopicBar={init:function(){this.loadTopicBar(),this.initEventListeners()},loadTopicBar:function(){var $topicBar=$("#topic-bar"),$topicBarInput=$("#topic-bar-input");$.ajax({type:"GET",url:InstagramConfig.urls.monitoring.load_topic_bar,cache:!1,success:function(data){$("#topic-bar-placeholder").hide(),$topicBarInput.tagsinput("removeAll"),$topicBarInput.tagsinput("destroy"),$topicBarInput.tagsinput({maxTags:InstagramConfig.query_topics_max,itemText:"text",itemValue:"value",tagClass:function(item){switch(item.type){case"hashtag":return"label label-info";case"keyword":return"label label-success"}},typeahead:{source:data,sourceTags:!0}}),$.each(InstagramConfig.query_data,function(index,data){$topicBarInput.tagsinput("add",data)}),$topicBar.hasClass("hidden")&&$topicBar.fadeIn(400,function(){$topicBarInput.tagsinput("focus")}).removeClass("hidden")}})},initEventListeners:function(){$("#topic-bar-input").on("change",function(){var selectedTopics=$("#topic-bar-input").map(function(){return $(this).val()});selectedTopics=$.makeArray(selectedTopics).sort().toString(),$.each(InstagramConfig.accountLists,function(index,tag){if(tag.topics.toString()==selectedTopics)return $(".favorite i").addClass("icon-lists-highlighted"),!1;$(".favorite i").removeClass("icon-lists-highlighted")})}),$("#topic-bar-form").on("submit",function(event){event.preventDefault();var topics=[];$("#topic-bar-input option:selected").each(function(){topics.push(encodeURIComponent($(this).val()))}),window.location=$(this).attr("action")+topics.join("+")+$(this).attr("data-append")}),InstagramTopicBar.initTopicModal(),InstagramTopicBar.initTopicLists()},initTopicModal:function(){$("#topic-keywords-tab").on("shown",function(){$("#new-keyword-input").attr("required","required").focus(),$("#new-hashtag-input").removeAttr("required")}),$("#topic-hashtags-tab").on("shown",function(){$("#new-hashtag-input").attr("required","required").focus(),$("#new-keyword-input").removeAttr("required")}),$("#manageInstagramTopicsModal").on("shown",function(){$("#new-hashtag-input").attr("required","required").focus()}),$("#manageInstagramTopicsModal").on("hidden",function(){$("#new-keyword-input").val(""),$("#new-hashtag-input").val(""),$("#manage-keyword-topics").find(".alert").attr("class","alert").hide(),$("#manage-hashtag-topics").find(".alert").attr("class","alert").hide()}),$("#add-topic-form").on("submit",function(event){event.preventDefault();var keywordInput=$("#new-keyword-input"),hashtagInput=$("#new-hashtag-input"),topic="",alert="",type="hashtag";""!=hashtagInput.val()?(topic=hashtagInput.val(),type="hashtag"):""!=keywordInput.val()&&(topic=keywordInput.val(),type="keyword"),(alert=$("#manage-"+type+"-topics").find(".alert")).addClass("alert-info").html("Adding New Topic...").slideDown();var data={event_data:{view:InstagramConfig.appView,component:"Topics Modal"}};InstagramTopicBar.addTopic(topic,data,function(response){response.success?(alert.html("New Topic Added!").removeClass("alert-info").addClass("alert-success"),setTimeout(function(){$("#new-"+type+"-input").val(""),$("#manage-"+type+"-topics").find(".alert").slideUp()},1e3)):alert.html("Error Adding New Topic!").removeClass("alert-info").addClass("alert-error")})}),$("body").on("click",".manage-keyword-topics",function(){$("#topic-keywords-tab").tab("show"),$("#manageInstagramTopicsModal").modal("show")}),$("body").on("click",".manage-hashtag-topics",function(){$("#topic-hashtags-tab").tab("show"),$("#manageInstagramTopicsModal").modal("show")}),$(".remove-tag a").on("click",function(){var topic=$(this).parent().data("topic"),$removeTag=$("#remove-tag-"+topic.replace(/[^a-zA-Z0-9]/g,"-"));$removeTag.hide(),InstagramTopicBar.removeTopic(topic,$removeTag,{event_data:{view:InstagramConfig.appView,component:"Topics Modal"}})})},initTopicRemover:function(){$(".remove-tag a").off("click","**"),$(".remove-tag a").on("click",function(){var topic=$(this).parent().data("topic"),$removeTag=$("#remove-tag-"+topic.replace(/[^a-zA-Z0-9]/g,"-"));$removeTag.hide(),InstagramTopicBar.removeTopic(topic,$removeTag,{event_data:{view:InstagramConfig.appView,component:"Topics Modal"}})})},initTopicLists:function(){var $listsDropdown=$("#lists-dropdown"),$topicBar=$("#topic-bar"),$topicBarInput=$("#topic-bar-input"),$listName=$("#list-name");$listsDropdown.on("click",".list a",function(){var listName=$(this).parent("li").data("list-name"),listTopics=InstagramConfig.accountLists[listName].topic_bar;$topicBarInput.tagsinput("removeAll"),$topicBarInput.tagsinput("addMany",listTopics),$topicBarInput.tagsinput("focus")}),$listsDropdown.on({mouseenter:function(){$(this).find("i").show()},mouseleave:function(){$(this).find("i").hide()}},"#lists-dropdown-menu li"),$topicBar.on("click","#lists-dropdown-menu li i",function(){if(confirm("Are you sure you want to delete this list?")){var element=$(this);element.parent("li").remove(),$.ajax({type:"DELETE",url:element.data("url"),cache:!1})}}),$topicBar.on("click",".favorite",function(){if(!$(this).find("i").hasClass("icon-lists-highlighted")){var $listTopicsModal=$("#listTopicsModal");$listTopicsModal.modal("show"),$listTopicsModal.on("shown",function(){$listName.focus()});var listTopicLabels=$("#add-list-topics").html("");$("#topic-bar-input option").each(function(){if($(this).val().indexOf("#")>-1)topicLabel=$('<span class="tag label label-success">'+$(this).val()+"</span>");else var topicLabel=$('<span class="tag label label-info">'+$(this).val()+"</span>");topicLabel.appendTo(listTopicLabels)})}}),$("#add-list-form").on("submit",function(event){event.preventDefault();var topics=$("#topic-bar-input").map(function(){return $(this).val()});$.ajax({type:"POST",data:{name:$("#list-name").val(),topics:$.makeArray(topics)},dataType:"json",url:$(this).attr("action"),cache:!1,success:function(){InstagramTopicBar.loadHashtagLists(),$(".favorite i").addClass("icon-lists-highlighted")}}),$("#listTopicsModal").modal("hide"),$listName.val("")})},loadHashtagLists:function(){$.ajax({type:"GET",url:InstagramConfig.urls.monitoring.load_topic_lists,cache:!1,success:function(html){$("#lists-dropdown").html(html)}})},addTopic:function(topic,data,callback){$.ajax({type:"POST",url:InstagramConfig.urls.monitoring.add_topic,data:{topic:topic,data:data},topic:topic,cache:!1,success:function(response){if("function"==typeof callback&&callback(response),response.success)(InstagramTopicBar.loadTopicBar||Function)(),InstagramTopicBar.updateAccountTopicUsage("add",topic,response.topic_type),InstagramTopicBar.initTopicRemover(),App.flashMsg("You're now following \""+this.topic+'".  Data for this topic may take several hours or more to fully populate!',"success");else if(response.code){429==response.code?App.flashMsg('You\'ve reached your hashtag limit. <a href="javascript:void(0)" class="manage-hashtag-topics">Manage your hashtags</a> or <a href="#" onclick="Intercom(\'showNewMessage\');">Contact Us!</a>',"error",!1):409==response.code&&App.flashMsg(response.message,"info",!1)}else App.flashMsg("Sorry, an error occurred. Please try again.","error")}})},removeTopic:function(topic,$removeTag,data){$.ajax({type:"DELETE",url:InstagramConfig.urls.monitoring.remove_topic+"/"+encodeURIComponent(topic),data:{data:data},cache:!1,success:function(response){response.success?((InstagramTopicBar.loadTopicBar||Function)(),InstagramTopicBar.updateAccountTopicUsage("remove",topic,response.topic_type),App.flashMsg('Successfully removed tracker for "#'+topic+'" !',"success")):$removeTag.show()}})},updateAccountTopicUsage:function(action,topic,topicType){if("keyword"==topicType){"add"==action?InstagramConfig.accountKeywordCount++:"remove"==action&&InstagramConfig.accountKeywordCount--;usage=Math.round(InstagramConfig.accountKeywordCount/InstagramConfig.accountKeywordLimit*100);$("#account-keyword-usage .bar").attr("style","width:"+usage+"%"),$("#account-keyword-usage .bar-text").html("(Using "+InstagramConfig.accountKeywordCount+" / "+InstagramConfig.accountKeywordLimit+")")}else if("hashtag"==topicType){"add"==action?(InstagramConfig.accountHashtagCount++,$("#add-topic-form ul.nav-hashtags").append("<li id='remove-tag-"+topic+"' class='remove-tag' data-topic='"+topic+"'><a href='javascript:void(0)'><span class='label label-important label-tag'>&times; "+topic+"</span></a></li>")):"remove"==action&&(InstagramConfig.accountHashtagCount--,$("#remove-tag-"+topic.replace(/[^a-zA-Z0-9]/g,"-")).remove());var usage=Math.round(InstagramConfig.accountHashtagCount/InstagramConfig.accountHashtagLimit*100);$("#account-hashtag-usage .bar").attr("style","width:"+usage+"%"),$("#account-hashtag-usage .bar-text").html("(Using "+InstagramConfig.accountHashtagCount+" / "+InstagramConfig.accountHashtagLimit+")")}}},InstagramUpdater={init:function(){$("body").on("click",".ig-like-btn",function(){var $likeBtn=$(this),media_id=$(this).data("media-id");$(this).hasClass("is-liked")?InstagramUpdater.removeLike(media_id,$likeBtn):InstagramUpdater.postLike(media_id,$likeBtn)}),$("body").on("click",".ig-follow-btn",function(){var $followBtn=$(this),user_id=$(this).data("user-id");$(this).hasClass("following")?InstagramUpdater.modifyRelationship("unfollow",user_id,$followBtn):InstagramUpdater.modifyRelationship("follow",user_id,$followBtn)}),$("#ig-closeup-actions").on("click",".ig-comment-submit-btn",function(){var $commentBtn=$(this),$commentInput=$(this).prev(".insert-comment").find("input"),commentText=$commentInput.val(),media_id=$(this).data("media-id");InstagramUpdater.postComment(media_id,commentText,$commentBtn,$commentInput)})},postLike:function(media_id,$likeBtn){var component=$likeBtn.attr("data-component");$.ajax({type:"POST",data:{media_id:media_id,view:InstagramConfig.appView,component:component},url:InstagramConfig.urls.external.post_like_endpoint,cache:!1,success:function(response){console.log(response),$likeBtn.removeClass("updating"),200==response.data.code?InstagramUpdater.handleLikedPost(media_id,$likeBtn):InstagramUpdater.handleUpdaterErrorResponse(response,$likeBtn)}})},removeLike:function(media_id,$likeBtn){var component=$likeBtn.attr("data-component");$.ajax({type:"POST",data:{media_id:media_id,view:InstagramConfig.appView,component:component},url:InstagramConfig.urls.external.remove_like_endpoint,cache:!1,success:function(response){$likeBtn.removeClass("updating"),200==response.data.code?InstagramUpdater.handleUnlikedPost(media_id,$likeBtn):InstagramUpdater.handleUpdaterErrorResponse(response,$likeBtn)}})},postComment:function(media_id,commentText,$commentBtn,$commentInput){var component=$commentBtn.attr("data-component");$.ajax({type:"POST",data:{media_id:media_id,text:commentText,view:InstagramConfig.appView,component:component},url:InstagramConfig.urls.external.post_comment_endpoint,cache:!1,success:function(response){console.log(response),200==response.data.code?InstagramUpdater.handlePostedComment(media_id,$commentInput):InstagramUpdater.handleUpdaterErrorResponse(response,$commentBtn),$commentBtn.removeClass("updating")}})},removeComment:function(media_id,comment_id,$commentBtn){var component=$commentBtn.attr("data-component");$.ajax({type:"POST",data:{media_id:media_id,comment_id:comment_id,view:InstagramConfig.appView,component:component},url:InstagramConfig.urls.external.remove_comment_endpoint,cache:!1,success:function(response){200==response.data.code?InstagramUpdater.handleRemovedComment(comment_id):InstagramUpdater.handleUpdaterErrorResponse(response,$commentBtn)}})},modifyRelationship:function(action,user_id,$followBtn){var endpoint;if("follow"==action)endpoint=InstagramConfig.urls.external.follow_endpoint;else{if("unfollow"!=action)return;endpoint=InstagramConfig.urls.external.unfollow_endpoint}var component=$followBtn.attr("data-component");$.ajax({type:"POST",data:{user_id:user_id,view:InstagramConfig.appView,component:component},url:endpoint,cache:!1,success:function(response){console.log(response),200==response.data.code?"follow"==action?InstagramUpdater.handleFollowedUser(user_id,$followBtn):"unfollow"==action&&InstagramUpdater.handleUnfollowedUser(user_id,$followBtn):InstagramUpdater.handleUpdaterErrorResponse(response,$followBtn)}})},handleLikedPost:function(media_id,$likeBtn){$likeBtn.addClass("is-liked");var $media_wrapper=$("#instagram-media-"+media_id),$media_like_btn=$media_wrapper.find(".ig-like-btn");$media_like_btn.addClass("is-liked");var close_up_data=$media_wrapper.data("closeup-data");close_up_data.is_liked=!0,close_up_data.like_count++,$likeBtn.find(".ig-like-count").text(close_up_data.like_count.toLocaleString()),$media_like_btn.find(".ig-like-count").text(close_up_data.like_count.toLocaleString()),$media_wrapper.attr("data-closeup-data",JSON.stringify(close_up_data))},handleUnlikedPost:function(media_id,$likeBtn){$likeBtn.removeClass("is-liked");var $media_wrapper=$("#instagram-media-"+media_id),$media_like_btn=$media_wrapper.find(".ig-like-btn");$media_like_btn.removeClass("is-liked");var close_up_data=$media_wrapper.data("closeup-data");close_up_data.is_liked=!1,close_up_data.like_count--,$likeBtn.find(".ig-like-count").text(close_up_data.like_count.toLocaleString()),$media_like_btn.find(".ig-like-count").text(close_up_data.like_count.toLocaleString()),$media_wrapper.attr("data-closeup-data",JSON.stringify(close_up_data))},handlePostedComment:function(media_id,$commentInput){$commentInput.val(""),InstagramCloseUp.loadComments(InstagramCloseUp.media_data);var $media_wrapper=$("#instagram-media-"+media_id),close_up_data=$media_wrapper.data("closeup-data");close_up_data.comment_count++,$media_wrapper.find(".ig-comment-count").text(close_up_data.comment_count.toLocaleString()),$media_wrapper.attr("data-closeup-data",JSON.stringify(close_up_data))},handleRemovedComment:function(media_id,comment_id){$("#ig-closeup-comment-"+comment_id).slideUp();var $media_wrapper=$("#instagram-media-"+media_id),close_up_data=$media_wrapper.data("closeup-data");close_up_data.comment_count--,$media_wrapper.find(".ig-comment-count").text(close_up_data.comment_count.toLocaleString()),$media_wrapper.attr("data-closeup-data",JSON.stringify(close_up_data))},handleFollowedUser:function(user_id,$followBtn){InstagramUpdater.setFollowButtonState("following",$followBtn);var $media_wrapper=$(".instagram-media-user-"+user_id);if($media_wrapper.length){var close_up_data=$media_wrapper.data("closeup-data");close_up_data.profile.followed_by_user=!0,$media_wrapper.attr("data-closeup-data",JSON.stringify(close_up_data))}},handleUnfollowedUser:function(user_id,$followBtn){InstagramUpdater.setFollowButtonState("default",$followBtn);var $media_wrapper=$(".instagram-media-user-"+user_id);if($media_wrapper.length){var close_up_data=$media_wrapper.data("closeup-data");close_up_data.profile.followed_by_user=!1,$media_wrapper.attr("data-closeup-data",JSON.stringify(close_up_data))}},setFollowButtonState:function(state,$followBtn){"self"==state?$followBtn.hide():"private"==state?($followBtn.show(),$followBtn.attr("data-hover-text"," Request?"),$followBtn.html('<i class="icon-lock"></i>'),$followBtn.addClass("btn-bs4-secondary-outline private"),$followBtn.removeClass("btn-bs4-ig-outline active following updating")):"following"==state?($followBtn.show(),$followBtn.attr("data-hover-text"," Unfollow?"),$followBtn.html('<i class="icon-checkmark"></i> '),$followBtn.addClass("active following btn-bs4-success-outline"),$followBtn.removeClass("btn-bs4-secondary-outline btn-bs4-ig-outline private updating")):($followBtn.show(),$followBtn.attr("data-hover-text",""),$followBtn.html("Follow"),$followBtn.addClass("btn-bs4-ig-outline"),$followBtn.removeClass("btn-bs4-secondary-outline btn-bs4-success-outline private active following updating"))},handleUpdaterErrorResponse:function(response,$actionBtn){$actionBtn.removeClass("updating"),"InvalidAccessToken"==response.data.error||"OAuthPermissionsException"==response.data.error?InstagramUpdater.showAuthModal():App.flashError(response.message,"Instagram Updater Error",response,10)},showAuthModal:function(){$("#authenticateModal").modal("show")}};
```

**2. packages/tailwindapp-legacy/app/react/app/ui-components/settings/engine-status-content-portal.tsx** (lines 34-54)
Context: 34 matches: appear, user, tailwind

```typescript
  useEffect(() => {
    const spinner = document.getElementById('engine-status-content-portal-spinner');
    spinner!.style.display = 'none';
    // Get enclosing div element
    const divElement = divRef.current!;
    // Adjust the size settings to make the table size properly
    const tableBody = divElement.querySelector('.ant-table-body');
    if (tableBody) {
      const bodyColumnGroup = tableBody.getElementsByTagName('colgroup')?.item(0);
      if (bodyColumnGroup) {
        // for each column rendered adjust the min-width & width of the column to control the overall appearance
        columns.forEach((c, index) => {
          adjustColumnWidth(c, bodyColumnGroup, bodyColumnGroup.children.item(index)! as HTMLTableColElement);
        });
      }
      adjustWordBreak(tableBody as HTMLTableElement);
    }
  }, []);

  useEffect(() => {
    // returns matched search results

```

**3. packages/tailwindapp/client/domains/instagramo-auth/select-instagram-account-page.tsx** (lines 1-21)
Context: 22 matches: user, tailwind

```typescript
import {
	Box,
	Button,
	Center,
	Circle,
	Heading,
	HStack,
	Modal,
	ModalContent,
	Text,
	type UseRadioProps,
	useRadio,
	useRadioGroup,
	VStack,
} from "@chakra-ui/react";
import type {
	FacebookPageSessionAccount,
	InstagramBusinessSessionAccount,
} from "@tailwind-aero/tailwind-api-sdk";
import Head from "next/head";
import { type FC, useState } from "react";

```

### Suggested Investigation:

```
SELECT * FROM tailwind_communities WHERE updated_at > NOW() - INTERVAL '7 days' LIMIT 10;
```
```
-- Search logs for communities errors in last 24h
```
```
grep -r appear packages/
```

## Instructions (Step-by-Step)

1. **Analyze** the tailwind_communities code
2. **Reproduce** using test data
3. **Identify** the root cause
4. **Implement** the fix with minimal changes
5. **Add/Update Tests** covering the fix
6. **Verify** by running the full test suite

## Success Criteria (Explicit & Observable)

- [ ] All existing tests pass (no regressions)
- [ ] New test covers the reported issue
- [ ] Fix addresses root cause, not just symptoms
- [ ] Code follows project conventions
- [ ] Changes are minimal and focused

## Guardrails & Constraints

### DO NOT:

- Make changes without tests
- Modify database schema without migration
- Deploy without testing in staging
- Make changes affecting unrelated tailwind_communities

### ALWAYS:

- Write tests before/with the fix
- Preserve existing functionality
- Log key state transitions
- Consider edge cases and error handling

## Extended Thinking Guidance

- Take time to understand the full data flow before implementing a fix.

---

## Metadata

| Field               | Value                       |
| ------------------- | --------------------------- |
| **Issue Signature** | `community_content_not_appearing`         |
| **Occurrences**     | 3               |
| **First Seen**      | 2025-12-15                |
| **Last Seen**       | 2026-01-10                 |
| **Generated By**    | FeedForward Pipeline v2.0   |

---

_Generated by FeedForward Dual-Format Story Generator_
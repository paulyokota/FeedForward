@import "tailwindcss";

/* ============================================
   THEME SYSTEM - Sajid-Inspired True Neutrals

   Based on @whosajid's "The Easy Way to Pick UI Colors"
   - Pure neutrals: hsl(0, 0%, L%) - only adjust lightness
   - Three backgrounds: 0%, 5%, 10%
   - Two text shades: 95% (sharp), 70% (muted)
   - Light mode: 100 - L pattern

   Brand Colors (accent only):
   - Primary Teal: hsl(187, 84%, 53%)
   ============================================ */

:root {
  /* Backgrounds - pure neutrals, 5% increments (Sajid method) */
  --bg-void: hsl(0, 0%, 0%); /* 0% - page background */
  --bg-primary: hsl(0, 0%, 5%); /* 5% - main surfaces */
  --bg-surface: hsl(0, 0%, 10%); /* 10% - cards, panels */
  --bg-elevated: hsl(0, 0%, 15%); /* 15% - elevated elements */
  --bg-hover: hsl(0, 0%, 20%); /* 20% - hover states */
  --bg-active: hsl(0, 0%, 25%); /* 25% - active/pressed */

  /* Text - sharp for headings, muted for body (Sajid method) */
  --text-primary: hsl(0, 0%, 95%); /* Sharp - NOT 100%, too harsh */
  --text-secondary: hsl(0, 0%, 70%); /* Muted - still legible */
  --text-tertiary: hsl(0, 0%, 50%); /* Subtle hints */
  --text-muted: hsl(
    0,
    0%,
    45%
  ); /* Disabled/placeholder - increased for contrast */

  /* Borders - neutral at ~40% lightness (Sajid method) */
  --border-subtle: hsl(0, 0%, 15%);
  --border-default: hsl(0, 0%, 20%);
  --border-strong: hsl(0, 0%, 30%);

  /* FeedForward Teal (brand accent only) */
  --accent-teal: hsl(187, 84%, 53%);
  --accent-teal-bright: hsl(187, 92%, 69%);
  --accent-teal-dim: hsla(187, 84%, 53%, 0.18);
  --accent-slate: hsl(212, 52%, 25%);

  /* Semantic accents */
  --accent-blue: hsl(187, 84%, 53%);
  --accent-blue-dim: hsla(187, 84%, 53%, 0.18);
  --accent-green: hsl(160, 64%, 52%);
  --accent-green-dim: hsla(160, 64%, 52%, 0.18);
  --accent-amber: hsl(43, 96%, 56%);
  --accent-amber-dim: hsla(43, 96%, 56%, 0.18);
  --accent-red: hsl(0, 91%, 68%);
  --accent-red-dim: hsla(0, 91%, 68%, 0.18);
  --accent-purple: hsl(258, 90%, 76%);
  --accent-purple-dim: hsla(258, 90%, 76%, 0.18);

  /* Priority colors */
  --priority-urgent: hsl(0, 91%, 68%);
  --priority-high: hsl(27, 96%, 61%);
  --priority-medium: hsl(43, 96%, 56%);
  --priority-low: hsl(0, 0%, 50%);

  /* Status colors */
  --status-draft: hsl(0, 0%, 60%);
  --status-candidate: hsl(258, 90%, 76%);
  --status-triaged: hsl(187, 84%, 53%);
  --status-in-progress: hsl(43, 96%, 56%);
  --status-done: hsl(160, 64%, 52%);
  --status-dismissed: hsl(0, 0%, 50%);

  /* Typography - Satoshi (Sajid's preferred font) */
  --font-sans: var(--font-satoshi), system-ui, -apple-system, sans-serif;
  --font-mono: var(--font-geist-mono), "SF Mono", Monaco, monospace;

  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 0.75rem;
  --space-lg: 1rem;
  --space-xl: 1.5rem;
  --space-2xl: 2rem;

  /* Radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.625rem;
  --radius-xl: 1rem;
  --radius-full: 9999px;

  /* Shadows - Sajid's 3-level system from CodePen
     Each shadow has 3 parts:
     1. Inset top highlight (white, increasing opacity)
     2. Dark shadow (black 30%, smaller blur)
     3. Soft shadow (black 15%, larger blur)
  */
  --shadow-sm:
    inset 0 1px 2px #ffffff30, 0 1px 2px #00000030, 0 2px 4px #00000015;
  --shadow-md:
    inset 0 1px 2px #ffffff50, 0 2px 4px #00000030, 0 4px 8px #00000015;
  --shadow-lg:
    inset 0 1px 2px #ffffff70, 0 4px 6px #00000030, 0 6px 10px #00000015;
  --shadow-inset: inset 0 2px 4px #00000020, inset 0 -1px 0 #ffffff08;
  --shadow-glow: 0 0 24px hsla(187, 84%, 53%, 0.2);

  --theme-mode: dark;
}

/* ============================================
   DARK THEME - Pure Neutrals (Sajid Method)
   ============================================ */
[data-theme="dark"] {
  /* Backgrounds - pure neutrals, 5% increments */
  --bg-void: hsl(0, 0%, 0%);
  --bg-primary: hsl(0, 0%, 5%);
  --bg-surface: hsl(0, 0%, 10%);
  --bg-elevated: hsl(0, 0%, 15%);
  --bg-hover: hsl(0, 0%, 20%);
  --bg-active: hsl(0, 0%, 25%);

  /* Text - 95% sharp, 70% muted */
  --text-primary: hsl(0, 0%, 95%);
  --text-secondary: hsl(0, 0%, 70%);
  --text-tertiary: hsl(0, 0%, 50%);
  --text-muted: hsl(0, 0%, 45%); /* Increased for better placeholder contrast */

  /* Borders - neutral */
  --border-subtle: hsl(0, 0%, 15%);
  --border-default: hsl(0, 0%, 20%);
  --border-strong: hsl(0, 0%, 30%);

  /* Shadows - Sajid's 3-level system */
  --shadow-sm:
    inset 0 1px 2px #ffffff30, 0 1px 2px #00000030, 0 2px 4px #00000015;
  --shadow-md:
    inset 0 1px 2px #ffffff50, 0 2px 4px #00000030, 0 4px 8px #00000015;
  --shadow-lg:
    inset 0 1px 2px #ffffff70, 0 4px 6px #00000030, 0 6px 10px #00000015;
  --shadow-inset: inset 0 2px 4px #00000020, inset 0 -1px 0 #ffffff08;
  --shadow-glow: 0 0 24px hsla(187, 84%, 53%, 0.2);

  --theme-mode: dark;
}

/* ============================================
   LIGHT THEME - 100-L Pattern (Sajid Method)
   ============================================ */
[data-theme="light"] {
  /* Backgrounds - 100 minus dark values */
  --bg-void: hsl(0, 0%, 95%); /* 100 - 5 = 95 (not pure white) */
  --bg-primary: hsl(0, 0%, 100%); /* 100 - 0 = 100 */
  --bg-surface: hsl(0, 0%, 100%); /* Cards are white */
  --bg-elevated: hsl(0, 0%, 98%); /* 100 - 2 */
  --bg-hover: hsl(0, 0%, 92%); /* 100 - 8 */
  --bg-active: hsl(0, 0%, 88%); /* 100 - 12 */

  /* Text - inverted: 5% sharp, 30% muted */
  --text-primary: hsl(0, 0%, 5%);
  --text-secondary: hsl(0, 0%, 30%);
  --text-tertiary: hsl(0, 0%, 50%);
  --text-muted: hsl(0, 0%, 65%);

  /* Borders - neutral */
  --border-subtle: hsl(0, 0%, 90%);
  --border-default: hsl(0, 0%, 85%);
  --border-strong: hsl(0, 0%, 75%);

  /* Accents - darker for contrast on light bg */
  --accent-teal: hsl(187, 90%, 32%);
  --accent-teal-bright: hsl(187, 85%, 40%);
  --accent-teal-dim: hsla(187, 90%, 32%, 0.12);
  --accent-slate: hsl(212, 52%, 25%);

  --accent-blue: hsl(187, 90%, 32%);
  --accent-blue-dim: hsla(187, 90%, 32%, 0.12);
  --accent-green: hsl(160, 84%, 29%);
  --accent-green-dim: hsla(160, 84%, 29%, 0.12);
  --accent-amber: hsl(32, 95%, 44%);
  --accent-amber-dim: hsla(32, 95%, 44%, 0.12);
  --accent-red: hsl(0, 72%, 51%);
  --accent-red-dim: hsla(0, 72%, 51%, 0.12);
  --accent-purple: hsl(262, 83%, 58%);
  --accent-purple-dim: hsla(262, 83%, 58%, 0.12);

  /* Priority - darker for light bg */
  --priority-urgent: hsl(0, 72%, 51%);
  --priority-high: hsl(21, 90%, 48%);
  --priority-medium: hsl(32, 95%, 44%);
  --priority-low: hsl(0, 0%, 50%);

  /* Status - darker for light bg */
  --status-draft: hsl(0, 0%, 45%);
  --status-candidate: hsl(262, 83%, 58%);
  --status-triaged: hsl(187, 90%, 32%);
  --status-in-progress: hsl(32, 95%, 44%);
  --status-done: hsl(160, 84%, 29%);
  --status-dismissed: hsl(0, 0%, 50%);

  /* Shadows - softer for light mode (no inset highlight needed) */
  --shadow-sm: 0 1px 2px #00000010, 0 2px 4px #00000008;
  --shadow-md: 0 2px 4px #00000012, 0 4px 8px #0000000a;
  --shadow-lg: 0 4px 6px #00000015, 0 8px 16px #0000000d;
  --shadow-inset: inset 0 2px 4px #00000008;
  --shadow-glow: none;

  --theme-mode: light;
}

@theme inline {
  --color-background: var(--bg-void);
  --color-foreground: var(--text-primary);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

* {
  box-sizing: border-box;
}

html {
  font-size: 14px;
  /* Smooth theme transitions */
  color-scheme: dark light;
}

body {
  background: var(--bg-void);
  color: var(--text-primary);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.5;
  transition:
    background-color 0.2s ease,
    color 0.2s ease;
}

/* Dark theme - pure solid background (Sajid method) */
[data-theme="dark"] body {
  background-image: none;
}

/* Light theme subtle pattern */
[data-theme="light"] body {
  background-image: none;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--bg-primary);
}

::-webkit-scrollbar-thumb {
  background: var(--bg-elevated);
  border-radius: 5px;
  border: 2px solid var(--bg-primary);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--bg-hover);
}

/* Selection */
::selection {
  background: var(--accent-blue);
  color: var(--bg-void);
}

[data-theme="light"] ::selection {
  color: white;
}

/* Focus ring */
:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
}

/* Card surface - Sajid method: gradient + shadows for depth
   Lighter on top (simulates light from above), darker on bottom
   Increased contrast from void (0%) to cards (16-12%) for better visibility */
.story-card {
  background: linear-gradient(to bottom, hsl(0, 0%, 16%), hsl(0, 0%, 12%));
  border: none;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease,
    background 0.2s ease;
}

.story-card:hover {
  transform: translateY(-2px);
  background: linear-gradient(to bottom, hsl(0, 0%, 20%), hsl(0, 0%, 15%));
  box-shadow: var(--shadow-md);
}

/* Light theme card adjustments - subtle gradient */
[data-theme="light"] .story-card {
  background: linear-gradient(to bottom, hsl(0, 0%, 100%), hsl(0, 0%, 97%));
  border: none;
  box-shadow: var(--shadow-sm);
}

[data-theme="light"] .story-card:hover {
  background: linear-gradient(to bottom, hsl(0, 0%, 100%), hsl(0, 0%, 95%));
  box-shadow: var(--shadow-md);
}

/* Kanban columns */
.kanban-column {
  min-width: 300px;
  max-width: 340px;
  background: var(--bg-void);
  border: none;
  border-radius: var(--radius-lg);
}

[data-theme="light"] .kanban-column {
  background: var(--bg-void);
  border: none;
  box-shadow: none;
}

/* Tab active state */
.tab-active {
  position: relative;
  color: var(--text-primary) !important;
}

.tab-active::after {
  content: "";
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--accent-blue);
  border-radius: 2px 2px 0 0;
}

/* Subtle fade-in animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.25s ease-out forwards;
}

/* Staggered children */
.stagger-children > * {
  opacity: 0;
  animation: fadeIn 0.25s ease-out forwards;
}

.stagger-children > *:nth-child(1) {
  animation-delay: 0ms;
}
.stagger-children > *:nth-child(2) {
  animation-delay: 40ms;
}
.stagger-children > *:nth-child(3) {
  animation-delay: 80ms;
}
.stagger-children > *:nth-child(4) {
  animation-delay: 120ms;
}
.stagger-children > *:nth-child(5) {
  animation-delay: 160ms;
}
.stagger-children > *:nth-child(6) {
  animation-delay: 200ms;
}
.stagger-children > *:nth-child(7) {
  animation-delay: 240ms;
}
.stagger-children > *:nth-child(8) {
  animation-delay: 280ms;
}

/* Badge styling */
.priority-badge,
.status-badge {
  font-weight: 600;
  letter-spacing: 0.02em;
}

/* Interactive elements */
button {
  cursor: pointer;
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Links */
a {
  color: inherit;
  text-decoration: none;
}

a:hover {
  color: var(--accent-blue);
}

/* Theme toggle animation */
@keyframes rotateIn {
  from {
    transform: rotate(-90deg);
    opacity: 0;
  }
  to {
    transform: rotate(0deg);
    opacity: 1;
  }
}

.theme-icon {
  animation: rotateIn 0.3s ease-out;
}

/* Delayed loading indicator - only shows after 200ms
   Prevents flash for fast loads */
@keyframes delayedFadeIn {
  0%,
  99% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

.loading-delayed {
  animation: delayedFadeIn 200ms ease-out forwards;
}

/* Smooth page transitions */
.page-content {
  animation: fadeIn 0.15s ease-out;
}

/* Prevent layout shift during hydration */
html {
  overflow-y: scroll;
}
